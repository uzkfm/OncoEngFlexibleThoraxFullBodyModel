// This file contains a set of auxillary drivers. They are usefull/necessary
// in some cases where the marker protocol doesn't provide enough information
// to specify all degrees of freedom. Hence, these drivers complement a
// specific driver protocol. Many of these drivers are soft, and an only serve
// to stabalize the solver in postures where the markers doesn't provide unique
// kinematic solution.

AnyFolder ExtraDrivers = {


  // --------------------------------------------------------------------------
  // The BM_MANNEQUIN drivers are used to support the degrees of freedom where
  // the markers do not provide enough information.
  // See this file for options: #path HTML_DOC "<AMMR_PATH_DOC>/bm_config/index.html"
  // --------------------------------------------------------------------------
  #define BM_MANNEQUIN_DRIVER_WEAK_SWITCH ON
  Main.HumanModel.DefaultMannequinDrivers.DefaultWeakDriverWeight = 0.1;

  #define BM_MANNEQUIN_DRIVER_ANKLE_SUBTALAR_EVERSION_RIGHT ON
  #define BM_MANNEQUIN_DRIVER_ANKLE_SUBTALAR_EVERSION_LEFT ON
  #define BM_MANNEQUIN_DRIVER_NECK ON

  // These weak mannequin drivers control arms which have no markers
  #define BM_MANNEQUIN_DRIVER_STERNOCLAVICULAR_ELEVATION_LEFT ON
  #define BM_MANNEQUIN_DRIVER_STERNOCLAVICULAR_PROTRACTION_LEFT ON

  #define BM_MANNEQUIN_DRIVER_GLENOHUMERAL_ABDUCTION_LEFT OFF
  #define BM_MANNEQUIN_DRIVER_GLENOHUMERAL_FLEXION_LEFT OFF
  #define BM_MANNEQUIN_DRIVER_GLENOHUMERAL_EXTERNAL_ROTATION_LEFT OFF
  #define BM_MANNEQUIN_DRIVER_ELBOW_FLEXION_LEFT OFF
  #define BM_MANNEQUIN_DRIVER_ELBOW_PRONATION_LEFT OFF
  #define BM_MANNEQUIN_DRIVER_WRIST_FLEXION_LEFT ON
  #define BM_MANNEQUIN_DRIVER_WRIST_ABDUCTION_LEFT ON

  // These weak mannequin drivers control arms which have no markers
  #define BM_MANNEQUIN_DRIVER_STERNOCLAVICULAR_ELEVATION_RIGHT ON
  #define BM_MANNEQUIN_DRIVER_STERNOCLAVICULAR_PROTRACTION_RIGHT ON

  #define BM_MANNEQUIN_DRIVER_GLENOHUMERAL_ABDUCTION_RIGHT OFF
  #define BM_MANNEQUIN_DRIVER_GLENOHUMERAL_FLEXION_RIGHT OFF
  #define BM_MANNEQUIN_DRIVER_GLENOHUMERAL_EXTERNAL_ROTATION_RIGHT OFF
  #define BM_MANNEQUIN_DRIVER_ELBOW_FLEXION_RIGHT OFF
  #define BM_MANNEQUIN_DRIVER_ELBOW_PRONATION_RIGHT OFF
  #define BM_MANNEQUIN_DRIVER_WRIST_FLEXION_RIGHT ON
  #define BM_MANNEQUIN_DRIVER_WRIST_ABDUCTION_RIGHT ON

  // Flexible thorax settings
  #define BM_MANNEQUIN_DRIVER_SKULL_THORAX_FLEXION OFF
  #define BM_MANNEQUIN_DRIVER_SKULL_THORAX_LATERALBENDING OFF
  #define BM_MANNEQUIN_DRIVER_SKULL_THORAX_ROTATION OFF
  #define BM_MANNEQUIN_DRIVER_PELVIS_THORAX_LATERALBENDING OFF
  #define BM_MANNEQUIN_DRIVER_PELVIS_THORAX_ROTATION OFF
  #define BM_MANNEQUIN_DRIVER_PELVIS_THORAX_EXTENSION OFF

  // These weak mannequin drivers control pelvis
  #define BM_MANNEQUIN_DRIVER_PELVIS_POS_X ON
  #define BM_MANNEQUIN_DRIVER_PELVIS_POS_Y ON
  #define BM_MANNEQUIN_DRIVER_PELVIS_POS_Z ON
  #define BM_MANNEQUIN_DRIVER_PELVIS_ROT_Z ON
  #define BM_MANNEQUIN_DRIVER_PELVIS_ROT_Y ON
  #define BM_MANNEQUIN_DRIVER_PELVIS_ROT_X ON

  // This link to the mannequin drivers ensures they are picked up by the study.
  AnyFolder& MannequinDrivers = Main.HumanModel.DefaultMannequinDrivers;

};
